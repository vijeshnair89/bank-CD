# ---
# apiVersion: storage.k8s.io/v1
# kind: StorageClass
# metadata:
#   name: azure-disk-sc
# provisioner: disk.csi.azure.com          # CSI provisioner name
# parameters:
#   skuName: Standard_LRS                  # Standard HDD (can use Premium_LRS, StandardSSD_LRS)
#   kind: Managed                           # Managed disk
# reclaimPolicy: Delete                     # Delete disk when PV is deleted
# volumeBindingMode: WaitForFirstConsumer   # Provision disk when a pod is scheduled



# ---
# # StatefulSet for MySQL
# apiVersion: apps/v1
# kind: StatefulSet
# metadata:
#   name: mysql
# spec:
#   selector:
#     matchLabels:
#       app: mysql
#   serviceName: mysql-service
#   replicas: 1
#   template:
#     metadata:
#       labels:
#         app: mysql
#     spec:
#       containers:
#       - name: mysql
#         image: mysql:8
#         env:
#         - name: MYSQL_ROOT_PASSWORD
#           value: "Test@123"
#         - name: MYSQL_DATABASE
#           value: "bankappdb"
#         ports:
#         - containerPort: 3306
#           name: mysql
#         volumeMounts:
#         - name: mysql-data
#           mountPath: /var/lib/mysql
#   volumeClaimTemplates:
#   - metadata:
#       name: mysql-data
#     spec:
#       accessModes: [ "ReadWriteOnce" ]
#       storageClassName: azure-disk-sc
#       resources:
#         requests:
#           storage: 5Gi

# ---

# # Headless Service for MySQL StatefulSet
# apiVersion: v1
# kind: Service
# metadata:
#   name: mysql-service
# spec:
#   ports:
#   - port: 3306
#     name: mysql
#   clusterIP: None
#   selector:
#     app: mysql
